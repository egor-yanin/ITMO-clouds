# Лабораторная 1 (со звездочкой)

Попытки ~~взлома :)~~ поиска уязвимостей сайта

В качестве испытуемого был выбран сайт моей alma mater (очень пафосное название для школы в Астрахани, но нас реально заставляли ее так называть)

Первым делом была проверена xml карта сайта, где не было найдено ничего интересного, кроме зачем-то добавленной страницы:

<img width="608" height="436" alt="Снимок экрана 2025-10-14 233615" src="https://github.com/user-attachments/assets/2d457105-b5b9-47b1-9e25-8344aa892c2e" />

Это, естественно, не уязвимость. Далее смотрим на robots.txt сайта, который показывает поисковикам, какие страницы индексировать не надо - если там в качестве 
разрешенных к индексированию попадется что-то важное, это можно считать уязвиимостью

<img width="450" height="800" alt="image" src="https://github.com/user-attachments/assets/1b028683-505f-40f0-b995-f067c80c5513" /> <img width="450" height="800" alt="image" src="https://github.com/user-attachments/assets/304e2dfe-a66e-4bae-8fec-c1145d91a8e2" />

Все выглядит нормально, переходы в важные папки запрещены, кроме интересного файла wp-admin/admin-ajax.php (очередная не уязвимость но большая странность для ajax файла, к нему либо не должно быть доступа
вовсе, либо он должен выглядеть явно не так). Возможно это тестовый файл, который забыли удалить, ничего полезного в нем нет

<img width="610" height="140" alt="Снимок экрана 2025-10-14 233055" src="https://github.com/user-attachments/assets/b55f903a-d77f-4d0c-b5cb-c9de1d3ad4fb" />

Страницы, доступ к которым должен быть запрещен, действительно недоступны, отказ в доступе отображатся по разному от случа к случаю -
иногда как отсутсвие страницы, иногда как откровенный запрет на посещение:

<img width="1339" height="845" alt="Снимок экрана 2025-10-14 230750" src="https://github.com/user-attachments/assets/b2e830b1-92a5-4d0d-b7bb-7da7ead47f88" />

<img width="1870" height="850" alt="Снимок экрана 2025-10-14 231249" src="https://github.com/user-attachments/assets/42b63619-976b-4477-bb3a-44f8cb39817b" />

<img width="1427" height="298" alt="Снимок экрана 2025-10-14 230803" src="https://github.com/user-attachments/assets/b940c5b5-e307-428d-b88b-ee05d368b02e" />

Установим на виртуальную машину ffuf и проверим базовую информацию о сайте

<img width="816" height="313" alt="Снимок экрана 2025-10-14 222823" src="https://github.com/user-attachments/assets/706bab78-db39-4ba9-b96c-033f4f5c9716" />

<img width="812" height="256" alt="Снимок экрана 2025-10-15 003058" src="https://github.com/user-attachments/assets/6d26ae41-02b7-4eb3-af31-ba2c699b12f1" />

Из интересного можем заметить старую версию PHP - само по себе не уязвимость, но не самая хорошая практика и так же ссылку на открытый REST API: https://gym4.net/wp-json. Вот это уже интересно
так как из этого файла в теории можно получить много полезных сведений, если он настроен неверно - чего я однако не заметила. Погуляв по ссылкам, которые я находила в самом wp-json, я в основном
находила сообщения о запрете доступа

<img width="1743" height="145" alt="Снимок экрана 2025-10-15 011101" src="https://github.com/user-attachments/assets/487361e6-c74a-4886-b64f-9d4e1688dc84" />

Полезнее имени админа я ничего не узнала (Передаем привет Тамаре Сергеевне)

<img width="1836" height="147" alt="Снимок экрана 2025-10-15 010122" src="https://github.com/user-attachments/assets/9a65d343-5cba-4d07-9971-3127093a769e" />

Пробуем перебор страниц через ffuf с словарями, позаимствованными из репозитория одного доброго человека https://github.com/0xrisec/ffuf

<img width="830" height="131" alt="image" src="https://github.com/user-attachments/assets/10a14fa6-8405-4996-9731-0c0966fac59a" />

Как видим, никаких интересных результатов (доступных страниц, откровенно запрещенных страниц или перенаправлений на другие страницы) не наблюдается. 

Проверим заголовки с securityheaders.com:

<img width="1636" height="794" alt="image" src="https://github.com/user-attachments/assets/7f377ee0-b2e9-4a97-a55d-c9dd37a0fac5" />

Видим, что много важных заголовков отсутсвуют, что потенциально делает сайт уязвимым для атак

Пробуем третий способ - sqlmap. Устанавливаем его на виртуальную машину и пробуем использовать

<img width="938" height="529" alt="Снимок экрана 2025-10-15 002547" src="https://github.com/user-attachments/assets/e8574687-fe4c-4b6d-ac70-98f43cbb6a61" />

<img width="813" height="136" alt="image" src="https://github.com/user-attachments/assets/3a7020de-d5a1-41ef-88ff-7bacf21759f1" />

Узнаем что сайт защищен системой (или системами) защиты информационных систем, что очень хорошо, хоть и не является полноценной защитой от взлома. Больше ничего интересного sqlmap не выдал

# Вывод

В рамках работы было найдено несколько станных артефактов сайта и моментов для улучшения, однако его защита оказалась достаточной и взлом не удался. Все папки с файлами, которые не должен был
видеть пользоватль, выдавали
ошибку 403 при path traversal и поиске открытых директорий, перебор через ffuf не дал интересных результатов. В общем защита относительно хорошая, хотя могла быть и лучше, но я очень сомневаюсь, 
что хоть кому-то придет в голову
серьезно пытаться взломать этот сайт, а потому смысла вкладываться в усиление защиты как будто бы и нет ¯\_(ツ)_/¯

